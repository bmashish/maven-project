pipeline
{
  agent any
  
  stages{
  
          stage('scm checkout')
		  
		  {
		    
		    steps{
			
			git branch: 'master', url: 'https://github.com/bmashish/maven-project.git'
			}       
		  
		  
		  
		  }
         stage('validate code')
		 {
		   steps{
		   withSonarQubeEnv(credentialsId: 'mysonar') 
		   {
                      withMaven(jdk: 'localjdk', maven: 'localmaven') 
		   {
           sh 'mvn install sonar:sonar'
           }
	   }
		   }
		 }
  }

}
